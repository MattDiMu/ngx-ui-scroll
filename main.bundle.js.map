{"version":3,"sources":["./demo/$_lazy_route_resource lazy","./demo/app/app.component.html","./demo/app/app.component.ts","./demo/app/app.module.ts","./demo/environments/environment.ts","./demo/main.ts","./src/component/classes/buffer.ts","./src/component/classes/cache.ts","./src/component/classes/clip.ts","./src/component/classes/domRoutines.ts","./src/component/classes/fetch.ts","./src/component/classes/item.ts","./src/component/classes/padding.ts","./src/component/classes/settings.ts","./src/component/classes/viewport.ts","./src/component/interfaces/direction.ts","./src/component/interfaces/index.ts","./src/component/runner.ts","./src/component/utils/assignSettings.ts","./src/component/utils/checkDatasource.ts","./src/component/utils/debouncedRound.ts","./src/component/utils/flowDirection.ts","./src/component/utils/index.ts","./src/component/workflow.ts","./src/component/workflow/adjustFetch.ts","./src/component/workflow/clip.ts","./src/component/workflow/fetch.ts","./src/component/workflow/processFetch.ts","./src/component/workflow/render.ts","./src/component/workflow/shouldClip.ts","./src/component/workflow/shouldFetch.ts","./src/ui-scroll.component.ts.UiScrollComponent.html","./src/ui-scroll.component.ts","./src/ui-scroll.directive.ts","./src/ui-scroll.module.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./demo/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./demo/$$_lazy_route_resource lazy\n// module id = ./demo/$$_lazy_route_resource lazy recursive\n// module chunks = main","<nav class=\"navbar navbar-expand-lg  navbar-dark bg-dark sticky-top\">\n  <div class=\"container\">\n    <a href=\"https://github.com/dhilt/ngx-ui-scroll\" class=\"github-corner\" aria-label=\"View source on Github\"><svg width=\"80\" height=\"80\" viewBox=\"0 0 250 250\" style=\"fill:#fff; color:#343a40; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);\" aria-hidden=\"true\"><path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"></path><path d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\" fill=\"currentColor\" style=\"transform-origin: 130px 106px;\" class=\"octo-arm\"></path><path d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\" fill=\"currentColor\" class=\"octo-body\"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>\n    <a class=\"navbar-brand mr-auto ml-2 ml-lg-0\" href=\"https://github.com/dhilt/ngx-ui-scroll\">ngx-ui-scroll</a>\n    <br>\n    <span class=\"copyrights\">\n      2018 &copy; <a href=\"https://github.com/dhilt\">dhilt</a>, <a href=\"http://www.hill30.com/\">Hill30 Inc</a>\n    </span>\n  </div>\n</nav>\n\n<div class=\"container mb-5\">\n\n  <h1>Angular UI Scroll Demo</h1>\n\n  <div class=\"demo\">\n\n    <h3 id=\"unlimited-bidirectional-scrolling\">\n      Unlimited bidirectional scrolling\n      <a href=\"#unlimited-bidirectional-scrolling\">#</a>\n    </h3>\n\n    <div class=\"work\">\n      <div style=\"float: left\">\n        <div class=\"viewport\" id=\"basic\">\n          <div *uiScroll=\"let item of datasourceBasic\">\n            <b>{{item.text}}</b>\n          </div>\n        </div>\n      </div>\n      <div class=\"log elements\">\n        DOM elements\n        <pre>{{elements('basic')}}</pre>\n      </div>\n      <div class=\"log datasource\">\n        Datasource.get log\n        <pre>{{logBasic}}</pre>\n      </div>\n      <div class=\"clearfix mb-3\"></div>\n    </div>\n\n    <div class=\"sources\">\n      <tabset>\n        <tab heading=\"Component\">\n<pre class=\"prettyprint\" ngNonBindable>\ndatasource: Datasource = &#123;\n  get: (index, count, success) => &#123;\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) &#123;\n      data.push(&#123; id: i, text: 'item #' + i &#125;);\n    &#125;\n    success(data);\n  &#125;\n&#125;\n</pre>\n        </tab>\n        <tab heading=\"Template\">\n<pre class=\"prettyprint lang-html\" ngNonBindable>\n&lt;div class=\"viewport\"&gt;\n  &lt;div *uiScroll=\"let item of datasource\"&gt;\n    &lt;b&gt;{{item.text}}&lt;/b&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</pre>\n        </tab>\n        <tab heading=\"CSS\">\n<pre class=\"prettyprint\" ngNonBindable>\nbody &#123;\n  line-height: 25px;\n&#125;\n.viewport &#123;\n  width: 175px;\n  height: 175px;\n  overflow-y: auto;\n  overflow-anchor: none;\n&#125;\n</pre>\n        </tab>\n      </tabset>\n    </div>\n\n    <div class=\"description\">\n      <p>\n        As it follows from the documentation, a special <em>Datasource</em> object needs to be passed to the\n        <em>*uiScroll</em> directive. The basic ngx-ui-scroll example includes primitive callback-based\n        <em>Datasource.get</em> method implementation with no additional settings. The use on the <em>*uiScroll</em>\n        directive at the template layer is very similar to the use of <em>*ngFor</em> directive in the simplest case. In\n        addition to <em>Datasource</em>, a special viewport container is specified at the template. It defines the\n        scrollable area via <em>height</em> and <em>overflow</em> css properties.\n      </p>\n      <p>\n        <em>Datasource.get</em> log shows us that there are 4 requests of 5 items on the initial load (before\n        scrolling). So we have 20 DOM elements (4 * 5) initially. The number of DOM elements is not constant during\n        user scrolling, but it fluctuates around the initial value. Why do we get 5 items per each\n        <em>datasource.get</em> call? It is so because of default. We may change it via settings object and\n        <em>bufferSize</em> property.\n      </p>\n    </div>\n  </div>\n\n  <div class=\"demo\">\n    <h3 id=\"bufferSize-setting\">\n      bufferSize setting\n      <a href=\"#bufferSize-setting\">#</a>\n    </h3>\n\n    <div class=\"work\">\n      <div style=\"float: left\">\n        <div class=\"viewport\" id=\"buffer\">\n          <div *uiScroll=\"let item of datasourceBuffer\">\n            <b>{{item.text}}</b>\n          </div>\n        </div>\n      </div>\n      <div class=\"log elements\">\n        DOM elements\n        <pre>{{elements('buffer')}}</pre>\n      </div>\n      <div class=\"log datasource\">\n        Datasource.get log\n        <pre>{{logBuffer}}</pre>\n      </div>\n      <div class=\"clearfix mb-3\"></div>\n    </div>\n\n    <div class=\"sources\">\n      <tabset>\n        <tab heading=\"Component\">\n<pre class=\"prettyprint\" ngNonBindable>\ndatasource: Datasource = &#123;\n  get: (index, count, success) => &#123;\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) &#123;\n      data.push(&#123; id: i, text: 'item #' + i &#125;);\n    &#125;\n    success(data);\n  &#125;,\n  settings: &#123;\n    bufferSize: 15\n  &#125;\n&#125;\n</pre>\n        </tab>\n        <tab heading=\"Template\">\n<pre class=\"prettyprint lang-html\" ngNonBindable>\n&lt;div class=\"viewport\"&gt;\n  &lt;div *uiScroll=\"let item of datasource\"&gt;\n    &lt;b&gt;{{item.text}}&lt;/b&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</pre>\n        </tab>\n        <tab heading=\"CSS\">\n<pre class=\"prettyprint\" ngNonBindable>\n body &#123;\n  line-height: 25px;\n&#125;\n.viewport &#123;\n  width: 175px;\n  height: 175px;\n  overflow-y: auto;\n  overflow-anchor: none;\n&#125;\n</pre>\n        </tab>\n      </tabset>\n    </div>\n\n    <div>\n      <p>\n        In addition to <em>get</em> method, <em>settings</em> object can be declared on the <em>Datasource</em>. Here\n        we set <em>bufferSize</em> property which defines number of items requested from the datasource in a single\n        request. Now the initial load consist of 2 requests (from 1 to 15 and from -14 to 0). The bigger the\n        <em>bufferSize</em> is, the less requests are needed to fill out the viewport. The default value of\n        <em>bufferSize</em> property is 5. The minimum value is 1. Another setting which has an impact on the\n        viewport's filling procedure is <em>padding</em>.\n      </p>\n    </div>\n  </div>\n\n  <div class=\"demo\">\n    <h3 id=\"padding-mode\">\n      padding setting\n      <a href=\"#padding-mode\">#</a>\n    </h3>\n\n    <div class=\"work\">\n      <div style=\"float: left\">\n        <div class=\"viewport\" id=\"padding\">\n          <div *uiScroll=\"let item of datasourcePadding\">\n            <b>{{item.text}}</b>\n          </div>\n        </div>\n      </div>\n      <div class=\"log elements\">\n        DOM elements\n        <pre>{{elements('padding')}}</pre>\n      </div>\n      <div class=\"log datasource\">\n        Datasource.get log\n        <pre>{{logPadding}}</pre>\n      </div>\n      <div class=\"clearfix mb-3\"></div>\n    </div>\n\n    <div class=\"sources\">\n      <tabset>\n        <tab heading=\"Component\">\n<pre class=\"prettyprint\" ngNonBindable>\ndatasource: Datasource = &#123;\n  get: (index, count, success) => &#123;\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) &#123;\n      data.push(&#123; id: i, text: 'item #' + i &#125;);\n    &#125;\n    success(data);\n  &#125;,\n  settings: &#123;\n    bufferSize: 7,\n    padding: 1.4\n  &#125;\n&#125;\n</pre>\n        </tab>\n        <tab heading=\"Template\">\n<pre class=\"prettyprint lang-html\" ngNonBindable>\n&lt;div class=\"viewport\"&gt;\n  &lt;div *uiScroll=\"let item of datasource\"&gt;\n    &lt;b&gt;{{item.text}}&lt;/b&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</pre>\n        </tab>\n        <tab heading=\"CSS\">\n<pre class=\"prettyprint\" ngNonBindable>\n body &#123;\n  line-height: 25px;\n&#125;\n.viewport &#123;\n  width: 175px;\n  height: 175px;\n  overflow-y: auto;\n  overflow-anchor: none;\n&#125;\n</pre>\n        </tab>\n      </tabset>\n    </div>\n\n    <div class=\"description\">\n      <p>\n        Here the <em>Datasource.get</em> is taken from previous samples, but the settings object is completed with\n        <em>padding</em> property. <em>Padding</em> is an extra space added to the visible part of the viewport for\n        the purpose of determining when the items should be created/destroyed. The value is relative to the visible\n        size of the viewport. <em>1.4</em> means that the <em>*uiScroll</em> directive would request new items until\n        140% of the viewport size (out of the visible part of the viewport) is filled with rendered items. That's why\n        we have 5 requests on the initial load in this case. There are 3 downward requests:\n      </p>\n      <ol>\n        <li>175px + 1.4 * 175px = 420px (downward space which has to be filled, when viewport's height = 175px )</li>\n        <li>ceil(420px / 25px) = 17 (items that are needed to feel 420px of the downward space, when item's height =\n          25px )\n        </li>\n        <li>ceil(17 / 7) = 3 (datasource.get calls that are needed to request 17 items, when bufferSize = 7)</li>\n      </ol>\n      <p>\n        And 2 upward requests:\n      </p>\n      <ol>\n        <li>1.4 * 175px = 245px (upward space which have to be filled)</li>\n        <li>ceil(245px / 25px) = 10 (items that are needed to feel 245px of the upward space)</li>\n        <li>ceil(10 / 7) = 2 (datasource.get calls that are needed to request 10 items)</li>\n      </ol>\n      <p>\n        The default value of <em>padding</em> property is 0.5. The minimum value is 0.1.\n      </p>\n    </div>\n  </div>\n\n  <div class=\"demo\">\n    <h3 id=\"infinite-setting\">\n      Infinite mode\n      <a href=\"#infinite-setting\">#</a>\n    </h3>\n\n    <div class=\"work\">\n      <div style=\"float: left\">\n        <div class=\"viewport\" id=\"infinite\">\n          <div *uiScroll=\"let item of datasourceInfinite\">\n            <b>{{item.text}}</b>\n          </div>\n        </div>\n      </div>\n      <div class=\"log elements\">\n        DOM elements\n        <pre>{{elements('infinite')}}</pre>\n      </div>\n      <div class=\"log datasource\">\n        Datasource.get log\n        <pre>{{logInfinite}}</pre>\n      </div>\n      <div class=\"clearfix mb-3\"></div>\n    </div>\n\n    <div class=\"sources\">\n      <tabset>\n        <tab heading=\"Component\">\n<pre class=\"prettyprint\" ngNonBindable>\ndatasource: Datasource = &#123;\n  get: (index, count, success) => &#123;\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) &#123;\n      data.push(&#123; id: i, text: 'item #' + i &#125;);\n    &#125;\n    success(data);\n  &#125;,\n  settings: &#123;\n    infinite: true\n  &#125;\n&#125;\n</pre>\n        </tab>\n        <tab heading=\"Template\">\n<pre class=\"prettyprint lang-html\" ngNonBindable>\n&lt;div class=\"viewport\"&gt;\n  &lt;div *uiScroll=\"let item of datasource\"&gt;\n    &lt;b&gt;{{item.text}}&lt;/b&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</pre>\n        </tab>\n        <tab heading=\"CSS\">\n<pre class=\"prettyprint\" ngNonBindable>\n body &#123;\n  line-height: 25px;\n&#125;\n.viewport &#123;\n  width: 175px;\n  height: 175px;\n  overflow-y: auto;\n  overflow-anchor: none;\n&#125;\n</pre>\n        </tab>\n      </tabset>\n    </div>\n\n    <div class=\"description\">\n      <p>\n        The <em>*uiScroll</em> directive might work in the \"infinite\" mode, when items are never removed. This mode can\n        be turned on via <em>infinite</em> property of the <em>settings</em> object. Setting <em>infinite</em> to true,\n        we ask the scroller not to remove items that are getting out of the viewport. That's why the DOM elements\n        counter value is being increased per each edge-scroll event.\n      </p>\n    </div>\n  </div>\n\n  <div class=\"demo\">\n    <h3 id=\"horizontal-mode\">\n      Horizontal mode\n      <a href=\"#horizontal-mode\">#</a>\n    </h3>\n\n    <div class=\"work\">\n      <div style=\"float: left\">\n        <div class=\"viewport-horizontal\" id=\"horizontal\">\n          <div *uiScroll=\"let item of datasourceHorizontal\">\n            <div class=\"item-horizontal\">{{item.text}}</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"log elements horizontal\">\n        DOM elements\n        <pre>{{elements('horizontal')}}</pre>\n      </div>\n      <div class=\"log datasource horizontal\">\n        Datasource.get log\n        <pre>{{logHorizontal}}</pre>\n      </div>\n      <div class=\"clearfix mb-3\"></div>\n    </div>\n\n    <div class=\"sources\">\n      <tabset>\n        <tab heading=\"Component\">\n<pre class=\"prettyprint\" ngNonBindable>\ndatasource: Datasource = &#123;\n  get: (index, count, success) => &#123;\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) &#123;\n      data.push(&#123; id: i, text: 'item #' + i &#125;);\n    &#125;\n    success(data);\n  &#125;,\n  settings: &#123;\n    horizontal: true\n  &#125;\n&#125;\n</pre>\n        </tab>\n        <tab heading=\"Template\">\n<pre class=\"prettyprint lang-html\" ngNonBindable>\n&lt;div class=\"viewport-horizontal\"&gt;\n  &lt;div *uiScroll=\"let item of datasource\"&gt;\n    &lt;div class=\"item-horizontal\"&gt;{{item.text}}&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</pre>\n        </tab>\n        <tab heading=\"CSS\">\n<pre class=\"prettyprint\" ngNonBindable>\n.viewport-horizontal &#123;\n  width: 175px;\n  height: 100px;\n  overflow-anchor: none;\n  overflow-x: scroll;\n  overflow-y: hidden;\n  white-space: nowrap;\n&#125;\n.viewport-horizontal div &#123;\n  display: inline-block;\n&#125;\n.item-horizontal &#123;\n  border: 1px solid #aaa;\n  height: 100px;\n  padding: 0 5px;\n  font-weight: bolder;\n&#125;\n</pre>\n        </tab>\n      </tabset>\n    </div>\n\n    <p>\n      Horizontal scrolling could be enabled via <em>horizontal</em> setting. The styles also need to be fixed in\n      accordance with horizontal scrolling. Currently we have some limitations at the template layer but\n      <em>display: inline-block;</em> rule applied to all nested containers makes the horizontal mode work.\n    </p>\n\n  </div>\n</div>\n\n\n\n// WEBPACK FOOTER //\n// ./demo/app/app.component.html","import { Component } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\n\nimport { Datasource } from '../../public_api';\n// import { Datasource } from 'ngx-ui-scroll';\n\nconst getData = (index: number, count: number) => {\n  console.log('requested index = ' + index + ', count = ' + count);\n  let data = [];\n  for (let i = index; i <= index + count - 1; i++) {\n    data.push({\n      id: i,\n      text: \"item #\" + i\n    });\n  }\n  return data;\n};\n\nconst min = 1, max = 100;\n\nconst getDataLimited = (index: number, count: number) => {\n  console.log('requested index = ' + index + ', count = ' + count);\n  let data = [];\n  const start = Math.max(min, index);\n  const end = Math.min(index + count - 1, max);\n  if (start <= end) {\n    for (let i = start; i <= end; i++) {\n      data.push({\n        id: i,\n        text: \"item #\" + i\n      });\n    }\n  }\n  return data;\n};\n\nconst datasourceGet = {\n  'callback': (index: number, count: number, success) => {\n    setTimeout(() => success(getData(index, count)), 50);\n  },\n  'observable': (index: number, count: number) => Observable.create(observer => {\n    setTimeout(() => observer.next(getData(index, count)), 100);\n  }),\n  'promise': (index: number, count: number) => new Promise((resolve, reject) => {\n    setTimeout(() => resolve(getData(index, count)), 100);\n  }),\n  'promiseLimited': (index: number, count: number) => new Promise((resolve, reject) => {\n    setTimeout(() => resolve(getDataLimited(index, count)), 0);\n  })\n};\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n  elements(token: string): string {\n    const element = document.getElementById(token);\n    if(!element) {\n      return '';\n    }\n    const count = element.children[0].childElementCount || 0;\n    return (count - 2).toString(10);\n  }\n\n  // basic demo\n\n  countBasic: number = 0;\n  logBasic: string = '';\n\n  datasourceBasic: Datasource = {\n    get: (index, count, success) => {\n      this.logBasic = `${++this.countBasic}) get 5 items [${index}, ${index + count - 1}]\\n` + this.logBasic;\n      const data = [];\n      for (let i = index; i <= index + count - 1; i++) {\n        data.push({ id: i, text: 'item #' + i });\n      }\n      success(data);\n    }\n  };\n\n  // bufferSize setting demo\n\n  countBuffer: number = 0;\n  logBuffer: string = '';\n\n  datasourceBuffer: Datasource = {\n    get: (index, count, success) => {\n      this.logBuffer = `${++this.countBuffer}) get 15 items [${index}, ${index + count - 1}]\\n` + this.logBuffer;\n      const data = [];\n      for (let i = index; i <= index + count - 1; i++) {\n        data.push({ id: i, text: 'item #' + i });\n      }\n      success(data);\n    },\n    settings: {\n      bufferSize: 15\n    }\n  };\n\n  // padding setting demo\n\n  countPadding: number = 0;\n  logPadding: string = '';\n\n  datasourcePadding: Datasource = {\n    get: (index, count, success) => {\n      this.logPadding = `${++this.countPadding}) get 5 items [${index}, ${index + count - 1}]\\n` + this.logPadding;\n      const data = [];\n      for (let i = index; i <= index + count - 1; i++) {\n        data.push({ id: i, text: 'item #' + i });\n      }\n      success(data);\n    },\n    settings: {\n      bufferSize: 7,\n      padding: 1.5\n    }\n  };\n\n  // infinite setting demo\n\n  countInfinite: number = 0;\n  logInfinite: string = '';\n\n  datasourceInfinite: Datasource = {\n    get: (index, count, success) => {\n      this.logInfinite = `${++this.countInfinite}) get 5 items [${index}, ${index + count - 1}]\\n` + this.logInfinite;\n      const data = [];\n      for (let i = index; i <= index + count - 1; i++) {\n        data.push({ id: i, text: 'item #' + i });\n      }\n      success(data);\n    },\n    settings: {\n      infinite: true\n    }\n  };\n\n  // horizontal setting demo\n\n  countHorizontal: number = 0;\n  logHorizontal: string = '';\n\n  datasourceHorizontal: Datasource = {\n    get: (index, count, success) => {\n      this.logHorizontal = `${++this.countHorizontal}) get 5 items [${index}, ${index + count - 1}]\\n` + this.logHorizontal;\n      const data = [];\n      for (let i = index; i <= index + count - 1; i++) {\n        data.push({ id: i, text: 'item #' + i });\n      }\n      success(data);\n    },\n    settings: {\n      horizontal: true\n    }\n  };\n\n  constructor() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./demo/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { TabsModule } from 'ngx-bootstrap';\n\nimport { AppComponent } from './app.component';\nimport { UiScrollModule } from '../../public_api';\n// import { UiScrollModule } from 'ngx-ui-scroll';\n\n@NgModule({\n  declarations: [AppComponent],\n  imports: [\n    TabsModule.forRoot(),\n    BrowserModule,\n    UiScrollModule\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n\n// WEBPACK FOOTER //\n// ./demo/app/app.module.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./demo/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// ./demo/main.ts","import { Direction } from '../interfaces/index';\nimport { Cache } from './cache';\nimport { Item } from './item';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\n\nexport class Index {\n  forward: number = null;\n  backward: number = null;\n}\n\nexport class Buffer {\n\n  private _items: Array<Item>;\n  public $items = new BehaviorSubject(null);\n\n  bof: boolean;\n  eof: boolean;\n  lastIndex: Index;\n  cache: Cache;\n\n  constructor() {\n    this.items = [];\n    this.bof = false;\n    this.eof = false;\n    this.lastIndex = new Index();\n    this.cache = new Cache();\n  }\n\n  set items(items: Array<Item>) {\n    this._items = items;\n    if (items.length) {\n      this.setLastIndices();\n    }\n    this.$items.next(items);\n  }\n\n  get items(): Array<Item> {\n    return this._items;\n  }\n\n  setLastIndices() {\n    this.lastIndex[Direction.backward] = this.items[0].$index;\n    this.lastIndex[Direction.forward] = this.items[this.items.length - 1].$index;\n  }\n\n  getFirstVisibleItemIndex(): number {\n    const length = this.items.length;\n    for (let i = 0; i < length; i++) {\n      if (!this.items[i].invisible) {\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  getLastVisibleItemIndex(): number {\n    for (let i = this.items.length - 1; i >= 0; i--) {\n      if (!this.items[i].invisible) {\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  getEdgeVisibleItemIndex(direction: Direction, opposite?: boolean): number {\n    return direction === (!opposite ? Direction.forward : Direction.backward) ?\n      this.getLastVisibleItemIndex() : this.getFirstVisibleItemIndex();\n  }\n\n  getFirstVisibleItem(): Item {\n    const index = this.getFirstVisibleItemIndex();\n    if (index >= 0) {\n      return this.items[index];\n    }\n  }\n\n  getLastVisibleItem(): Item {\n    const index = this.getLastVisibleItemIndex();\n    if (index >= 0) {\n      return this.items[index];\n    }\n  }\n\n  getEdgeVisibleItem(direction: Direction, opposite?: boolean): Item {\n    return direction === (!opposite ? Direction.forward : Direction.backward) ?\n      this.getLastVisibleItem() : this.getFirstVisibleItem();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/classes/buffer.ts","import { Item } from './item';\n\nexport class ItemCache {\n  $index: number;\n  nodeId: string;\n  data: any; // todo: cache data only if it is permitted by settings\n\n  params: ClientRect;\n\n  constructor(item: Item) {\n    this.$index = item.$index;\n    this.nodeId = item.nodeId;\n    this.data = item.data;\n    this.params = item.getParams();\n  }\n}\n\nexport class Cache {\n  items: Array<ItemCache>;\n\n  constructor() {\n    this.items = [];\n  }\n\n  add(item: Item) {\n    const found = this.items.find(i => i.$index === item.$index);\n    if (found) {\n      found.data = item.data;\n      found.params = item.getParams();\n    } else {\n      // todo: do we need the list to be sorted? maybe an object?\n      this.items.push(new ItemCache(item));\n    }\n  }\n\n  get(index: number): ItemCache {\n    return this.items.find(i => i.$index === index);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/classes/cache.ts","import { Direction } from '../interfaces/direction';\r\n\r\nexport class ClipByDirection {\r\n  shouldClip: boolean;\r\n  size: number;\r\n\r\n  constructor() {\r\n    this.shouldClip = false;\r\n    this.size = null;\r\n  }\r\n}\r\n\r\nexport class ClipModel {\r\n  forward: ClipByDirection;\r\n  backward: ClipByDirection;\r\n\r\n  constructor() {\r\n    this.forward = new ClipByDirection();\r\n    this.backward = new ClipByDirection();\r\n  }\r\n\r\n  get shouldClip(): boolean {\r\n    return this[Direction.forward].shouldClip || this[Direction.backward].shouldClip;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/classes/clip.ts","import { Direction } from '../interfaces/direction';\nimport { Settings } from './settings';\n\nexport class Routines {\n\n  private horizontal: boolean;\n\n  constructor(settings: Settings) {\n    this.horizontal = settings.horizontal;\n  }\n\n  getScrollPosition(element): number {\n    return element[this.horizontal ? 'scrollLeft' : 'scrollTop'];\n  }\n\n  setScrollPosition(element, value: number) {\n    element[this.horizontal ? 'scrollLeft' : 'scrollTop'] = value;\n  }\n\n  getParams(element): ClientRect {\n    return element.getBoundingClientRect();\n  }\n\n  getSize(element): number {\n    return this.getParams(element)[this.horizontal ? 'width' : 'height'];\n  }\n\n  getSizeStyle(element): number {\n    return parseInt(element.style[this.horizontal ? 'width' : 'height'], 10) || 0;\n  }\n\n  setSizeStyle(element, value: number) {\n    element.style[this.horizontal ? 'width' : 'height'] = `${value}px`;\n  }\n\n  getScrollableSize(element): number {\n    return element[this.horizontal ? 'scrollWidth' : 'scrollHeight'];\n  }\n\n  getRectEdge(params: ClientRect, direction: Direction, opposite: boolean): number {\n    const forward = !opposite ? Direction.forward : Direction.backward;\n    return params[direction === forward ? (this.horizontal ? 'right' : 'bottom') : (this.horizontal ? 'left' : 'top')];\n  }\n\n  getEdge(element, direction: Direction, opposite: boolean): number {\n    const params = this.getParams(element);\n    return this.getRectEdge(params, direction, opposite);\n  }\n\n  getEdge2(element, direction: Direction, relativeElement, opposite: boolean): number {\n    // vertical only ?\n    return element.offsetTop - (relativeElement ? relativeElement.scrollTop : 0) +\n      (direction === (!opposite ? Direction.forward : Direction.backward) ? this.getSize(element) : 0);\n  }\n\n  hideElement(element) {\n    element.style.display = 'none';\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/classes/domRoutines.ts","import { Item } from './item';\nimport { Direction } from '../interfaces/direction';\n\nexport class FetchByDirection {\n  shouldFetch: boolean;\n  startIndex: number;\n  private _newItemsData: Array<any>;\n  items: Array<Item>;\n  count: number;\n\n  constructor() {\n    this.count = 0;\n    this.reset();\n  }\n\n  reset() {\n    const count = this.count;\n    this.shouldFetch = false;\n    this.startIndex = null;\n    this._newItemsData = null;\n    this.items = null;\n    this.count = count;\n  }\n\n  set newItemsData(items: Array<Item>) {\n    this._newItemsData = items;\n    this.count++;\n  }\n\n  get newItemsData(): Array<Item> {\n    return this._newItemsData;\n  }\n}\n\nexport class FetchModel {\n  forward: FetchByDirection;\n  backward: FetchByDirection;\n\n  constructor() {\n    this.forward = new FetchByDirection();\n    this.backward = new FetchByDirection();\n  }\n\n  reset() {\n    this[Direction.forward].reset();\n    this[Direction.backward].reset();\n  }\n\n  get count(): number {\n    return this[Direction.backward].count + this[Direction.forward].count;\n  }\n\n  get items(): Array<Item> {\n    return [\n      ...this[Direction.backward].items ? this[Direction.backward].items : [],\n      ...this[Direction.forward].items ? this[Direction.forward].items : [],\n    ];\n  }\n\n  get shouldFetch(): boolean {\n    return this[Direction.forward].shouldFetch || this[Direction.backward].shouldFetch;\n  }\n\n  get hasNewItems(): boolean {\n    return !!(this[Direction.forward].newItemsData || this[Direction.backward].newItemsData);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/classes/fetch.ts","import { Direction } from '../interfaces/direction';\nimport { Routines } from './domRoutines';\n\nexport class Item {\n  $index: number;\n  data: any;\n  nodeId: string;\n  routines: Routines;\n\n  element: any;\n  invisible: boolean;\n  toRemove: boolean;\n\n  constructor($index, data, nodeId, routines) {\n    this.$index = $index;\n    this.data = data;\n    this.nodeId = nodeId;\n    this.routines = routines;\n    this.invisible = true;\n  }\n\n  getParams() {\n    return this.routines.getParams(this.element);\n  }\n\n  getEdge(direction: Direction): number {\n    return this.routines.getEdge(this.element, direction, false);\n  }\n\n  hide() {\n    this.routines.hideElement(this.element);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/classes/item.ts","import { Direction } from '../interfaces/direction';\r\nimport { Routines } from './domRoutines';\r\n\r\nexport class Padding {\r\n\r\n  element = null;\r\n  direction: Direction;\r\n  routines: Routines;\r\n\r\n  constructor(element, direction: Direction, routines: Routines) {\r\n    this.element = element.querySelector(`[data-padding-${direction}]`);\r\n    this.direction = direction;\r\n    this.routines = routines;\r\n  }\r\n\r\n  get size(): number {\r\n    return this.routines.getSizeStyle(this.element);\r\n  }\r\n\r\n  set size(value: number) {\r\n    this.routines.setSizeStyle(this.element, value);\r\n  }\r\n\r\n  getEdge(): number {\r\n    return this.routines.getEdge(this.element, this.direction, true);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/classes/padding.ts","import { Settings as SettingsInterface } from '../interfaces/settings';\nimport { assignSettings } from '../utils/assignSettings';\n\nexport const defaultSettings: SettingsInterface = {\n  startIndex: 1,\n  bufferSize: 5,\n  padding: 0.5,\n  infinite: false,\n  horizontal: false\n};\n\nexport const minSettings: SettingsInterface = {\n  bufferSize: 1,\n  padding: 0.1\n};\n\nexport class Settings implements SettingsInterface {\n\n  // external settings, have defaults\n  startIndex;\n  bufferSize;\n  padding;\n  infinite;\n  horizontal;\n\n  // internal settings\n  debug = false; // logging; need to turn off in release\n  itemIdPrefix = ''; // todo : scroll instance index ?\n  clipAfterFetchOnly = true;\n  clipAfterScrollOnly = true;\n\n  constructor(settings?: SettingsInterface) {\n    assignSettings(this, settings, defaultSettings, minSettings);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/classes/settings.ts","import { ElementRef } from '@angular/core';\nimport { Padding } from './padding';\nimport { Direction } from '../interfaces/direction';\nimport { Routines } from './domRoutines';\nimport { Settings } from './settings';\n\nexport class ViewportPadding {\n  forward: Padding;\n  backward: Padding;\n\n  constructor(element, routines: Routines) {\n    this.forward = new Padding(element, Direction.forward, routines);\n    this.backward = new Padding(element, Direction.backward, routines);\n  }\n}\n\nexport class Viewport {\n\n  private settings: Settings;\n  private routines: Routines;\n  private host;\n  scrollable;\n  padding: ViewportPadding;\n  syntheticScrollPosition: number;\n\n  private lastPosition: number;\n\n  constructor(elementRef: ElementRef, settings: Settings, routines: Routines) {\n    this.settings = settings;\n    this.routines = routines;\n    this.host = elementRef.nativeElement;\n    this.scrollable = elementRef.nativeElement.parentElement;\n    this.padding = new ViewportPadding(this.host, this.routines);\n    this.syntheticScrollPosition = null;\n  }\n\n  get children(): HTMLCollection {\n    return this.host.children;\n  }\n\n  get scrollPosition(): number {\n    return this.routines.getScrollPosition(this.scrollable);\n  }\n\n  set scrollPosition(value: number) {\n    this.routines.setScrollPosition(this.scrollable, value);\n    this.syntheticScrollPosition = this.scrollPosition;\n  }\n\n  saveScrollPosition() {\n    this.lastPosition = this.scrollPosition;\n  }\n\n  getLastPosition(): number {\n    return this.lastPosition;\n  }\n\n  getSize(): number {\n    return this.routines.getSize(this.scrollable);\n  }\n\n  getScrollableSize(): number {\n    return this.routines.getScrollableSize(this.scrollable);\n  }\n\n  getBufferPadding(): number {\n    return this.getSize() * this.settings.padding;\n  }\n\n  getEdge(direction: Direction, opposite?: boolean): number {\n    return this.routines.getEdge(this.scrollable, direction, opposite);\n  }\n\n  getLimit(direction: Direction, opposite?: boolean): number {\n    return this.getEdge(direction, opposite) +\n      (direction === (!opposite ? Direction.forward : Direction.backward) ? 1 : -1) * this.getBufferPadding();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/classes/viewport.ts","export enum Direction {\n  forward = 'forward',\n  backward = 'backward'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/interfaces/direction.ts","import { Datasource } from './datasource';\nimport { Settings } from './settings';\nimport { Direction } from './direction';\nimport { Run } from './run';\n\nexport { Datasource, Direction, Settings, Run };\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/interfaces/index.ts","import { Subscription } from 'rxjs/Subscription';\n\nimport { Workflow } from './workflow';\nimport { throttle } from './utils/index';\nimport { Direction, Run } from './interfaces/index';\n\nimport ShouldFetch from './workflow/shouldFetch';\nimport Fetch from './workflow/fetch';\nimport ProcessFetch from './workflow/processFetch';\nimport Render from './workflow/render';\nimport AdjustFetch from './workflow/adjustFetch';\nimport ShouldClip from './workflow/shouldClip';\nimport Clip from './workflow/clip';\n\nexport class WorkflowRunner {\n\n  private context;\n  private onScrollListener: Function;\n  private itemsSubscription: Subscription;\n  private flowResolverSubscription: Subscription;\n  public workflow: Workflow;\n  public count: number;\n  private runNew: Run;\n  private runQueue: Run;\n  private defaultDirection = Direction.forward;\n\n  constructor(context) {\n    this.context = context;\n    this.workflow = new Workflow(this.context);\n    this.count = 0;\n    this.runQueue = null;\n    this.runNew = null;\n    this.initialize();\n  }\n\n  initialize() {\n    const flow = this.workflow;\n    const onScroll = ($event) => this.scroll($event);\n\n    this.onScrollListener =\n      this.context.renderer.listen(flow.viewport.scrollable, 'scroll', throttle(onScroll, 100));\n    this.itemsSubscription = flow.buffer.$items.subscribe(items => this.context.items = items);\n    this.flowResolverSubscription = flow.resolver.subscribe(this.resolve.bind(this));\n\n    this.run();\n  }\n\n  scroll($event) {\n    if (this.workflow.viewport.syntheticScrollPosition !== null) {\n      if (this.workflow.viewport.scrollPosition === this.workflow.viewport.syntheticScrollPosition) {\n        this.workflow.viewport.syntheticScrollPosition = null;\n        return;\n      }\n      this.workflow.viewport.syntheticScrollPosition = null;\n    }\n    this.run({ scroll: true });\n  }\n\n  resolve(next: boolean) {\n    if (this.runNew) {\n      this.run(this.runNew);\n      this.runNew = null;\n    } else if (next) {\n      this.run({\n        direction: this.workflow.direction,\n        scroll: this.workflow.scroll\n      });\n    } else if (this.runQueue) {\n      this.run(this.runQueue);\n      this.runQueue = null;\n    } else {\n      this.count++;\n      this.finalize();\n    }\n  }\n\n  run(options: Run = {}) {\n    if (!options.direction) {\n      options.direction = this.defaultDirection;\n      this.runQueue = {\n        ...options,\n        direction: options.direction === Direction.forward ? Direction.backward : Direction.forward\n      };\n    }\n    if (this.workflow.pending) {\n      this.runNew = { ...options };\n      return;\n    }\n    this.workflow.start(options)\n      .then(() => this.fetch())\n      .then(() => this.clip())\n      .then(() =>\n        this.workflow.done()\n      )\n      .catch(error =>\n        this.workflow.fail(error)\n      );\n  }\n\n  fetch() {\n    return this.workflow.continue()\n      .then(ShouldFetch.run)\n      .then(Fetch.run)\n      .then(ProcessFetch.run)\n      .then(Render.run)\n      .then(AdjustFetch.run);\n  }\n\n  clip() {\n    return this.workflow.settings.infinite ?\n      null :\n      this.workflow.continue()\n        .then(ShouldClip.run)\n        .then(Clip.run);\n  }\n\n  dispose() {\n    this.onScrollListener();\n    this.itemsSubscription.unsubscribe();\n    this.flowResolverSubscription.unsubscribe();\n    this.workflow.dispose();\n  }\n\n  finalize() { // stop queue\n    this.workflow.log(`~~~~~~ WF Cycle ${this.count} DONE ~~~~~~`);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/runner.ts","const assignBoolean = (target, source, token, defaults) => {\r\n  let param = source[token];\r\n  if (typeof param === 'undefined') {\r\n    return;\r\n  }\r\n  if (typeof param !== 'boolean') {\r\n    console.warn(token + ' setting parse error, set it to ' + defaults[token] + ' (default)');\r\n    return;\r\n  }\r\n  target[token] = param;\r\n  return true;\r\n};\r\n\r\nconst assignNumeric = (target, source, token, defaults, integer = false) => {\r\n  let param = source[token];\r\n  if (typeof param === 'undefined') {\r\n    return;\r\n  }\r\n  if (typeof param !== 'number') {\r\n    console.warn(token + ' setting parse error, set it to ' + defaults[token] + ' (default)');\r\n    return;\r\n  }\r\n  if (integer && parseInt(param.toString(), 10) !== param) {\r\n    console.warn(token + ' setting parse error, set it to ' + defaults[token] + ' (default)');\r\n    return;\r\n  }\r\n  target[token] = param;\r\n  return true;\r\n};\r\n\r\nconst assignMinimalNumeric = (target, source, token, defaults, minSettings, integer = false) => {\r\n  if (assignNumeric(target, source, token, defaults, integer) !== true) {\r\n    return;\r\n  }\r\n  if (target[token] < minSettings[token]) {\r\n    console.warn(token + ' setting is less than minimum, set it to ' + minSettings[token]);\r\n    target[token] = minSettings[token];\r\n    return;\r\n  }\r\n  return true;\r\n};\r\n\r\nexport const assignSettings = (target, settings, defaults, minSettings) => {\r\n  Object.assign(target, defaults);\r\n\r\n  if (typeof settings === 'undefined') {\r\n    return;\r\n  }\r\n  if (typeof settings !== 'object') {\r\n    console.warn('settings is not an object, fallback to the defaults');\r\n    return;\r\n  }\r\n\r\n  assignNumeric(target, settings, 'startIndex', defaults);\r\n  assignMinimalNumeric(target, settings, 'bufferSize', defaults, minSettings, true);\r\n  assignMinimalNumeric(target, settings, 'padding', defaults, minSettings);\r\n  assignBoolean(target, settings, 'infinite', defaults);\r\n  assignBoolean(target, settings, 'horizontal', defaults);\r\n\r\n  // undocumented settings, for tests only\r\n  assignBoolean(target, settings, 'clipAfterFetchOnly', defaults);\r\n  assignBoolean(target, settings, 'clipAfterScrollOnly', defaults);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/utils/assignSettings.ts","export const checkDatasource = (datasource) => {\n  if (!datasource) {\n    throw new Error('No datasource provided');\n  }\n  if (!('get' in datasource)) {\n    throw new Error('Datasource get method is not implemented');\n  }\n  if (typeof datasource.get !== 'function') {\n    throw new Error('Datasource get is not a function');\n  }\n  if (datasource.get.length < 2) {\n    throw new Error('Datasource get method invalid signature');\n  }\n  return datasource;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/utils/checkDatasource.ts","let timer = null;\nlet next = null;\n\nconst runTimer = (delay) => {\n  timer = setTimeout(() => {\n    timer = null;\n    if (next) {\n      next();\n      next = null;\n      runTimer(delay);\n    }\n  }, delay);\n};\n\nexport const debouncedRound = (cb, delay) => {\n  if (!timer) {\n    cb();\n  } else {\n    next = cb;\n    clearTimeout(timer);\n  }\n  runTimer(delay);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/utils/debouncedRound.ts","import { Direction } from '../interfaces/direction';\nimport { Viewport } from '../classes/viewport';\n\nexport const calculateFlowDirection = (viewport: Viewport): Direction => {\n  const scrollPosition = viewport.scrollPosition;\n  const viewportSize = viewport.scrollable.scrollHeight;\n  const backwardPadding = viewport.padding[Direction.backward].size;\n  if (scrollPosition < backwardPadding) {\n    return Direction.backward;\n  }\n  if (scrollPosition <= viewportSize - backwardPadding) {\n    const lastScrollPosition = viewport.getLastPosition();\n    if (lastScrollPosition < scrollPosition) {\n      return Direction.forward;\n    } else if (lastScrollPosition > scrollPosition) {\n      return Direction.backward;\n    }\n  }\n  return Direction.forward;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/utils/flowDirection.ts","import { debouncedRound } from './debouncedRound';\nimport { checkDatasource } from './checkDatasource';\nimport { calculateFlowDirection } from './flowDirection';\nimport { assignSettings } from './assignSettings';\n\n// todo: need to import throttle properly\n// import * as throttle from 'lodash.throttle';\ndeclare const require: any;\nconst throttle = require('lodash.throttle');\n\nexport { throttle, debouncedRound, checkDatasource, calculateFlowDirection, assignSettings };\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/utils/index.ts","import { Observable } from 'rxjs/Observable';\n\nimport { Datasource, Direction, Run } from './interfaces/index';\nimport { Settings } from './classes/settings';\nimport { Routines } from './classes/domRoutines';\nimport { Viewport } from './classes/viewport';\nimport { Buffer } from './classes/buffer';\nimport { FetchModel } from './classes/fetch';\nimport { ClipModel } from './classes/clip';\n\nimport { checkDatasource } from './utils/index';\n\nexport class Workflow {\n\n  private observer;\n  public resolver: Observable<any>;\n\n  public bindData: Function;\n  public datasource: Datasource;\n  public settings: Settings;\n  public routines: Routines;\n  public viewport: Viewport;\n  public buffer: Buffer;\n\n  public count = 0;\n  public countDone = 0;\n  public pending: boolean;\n  public direction: Direction;\n  public scroll: boolean;\n  public next: boolean;\n  public fetch: FetchModel;\n  public clip: ClipModel;\n\n  constructor(context) {\n    this.resolver = Observable.create(_observer => this.observer = _observer);\n\n    this.bindData = () => {\n      this.next = true;\n      context.changeDetector.markForCheck();\n    };\n    this.datasource = checkDatasource(context.datasource);\n\n    this.settings = new Settings(context.datasource.settings);\n    this.routines = new Routines(this.settings);\n    this.viewport = new Viewport(context.elementRef, this.settings, this.routines);\n    this.buffer = new Buffer();\n\n    this.fetch = new FetchModel();\n    this.clip = new ClipModel();\n  }\n\n  reset() {\n    this.pending = false;\n    this.direction = null;\n    this.scroll = false;\n    this.next = false;\n    this.fetch.reset();\n    this.clip = new ClipModel();\n  }\n\n  start(options: Run = {}) {\n    this.count++;\n    this.log(`---=== Workflow ${this.count} run`);\n    this.reset();\n    this.pending = true;\n    this.direction = options.direction || null;\n    this.scroll = options.scroll || false;\n    return Promise.resolve(this);\n  }\n\n  continue() {\n    return Promise.resolve(this);\n  }\n\n  finalize() { // stop 1 cycle\n  }\n\n  end() {\n    this.pending = false;\n    this.countDone++;\n    this.viewport.saveScrollPosition();\n    this.finalize();\n  }\n\n  done() {\n    this.log(`---=== Workflow ${this.count} done`);\n    this.end();\n    this.observer.next(this.next);\n  }\n\n  fail(error: any) {\n    this.log(`---=== Workflow ${this.count} fail`);\n    this.end();\n    this.observer.error(error);\n  }\n\n  dispose() {\n    this.observer.complete();\n  }\n\n  log(...args) {\n    if (this.settings.debug) {\n      console.log.apply(this, args);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/workflow.ts","import { Workflow } from '../workflow';\r\nimport { Direction } from '../interfaces/index';\r\n\r\nexport default class AdjustFetch {\r\n\r\n  static run(workflow: Workflow) {\r\n    AdjustFetch.runByDirection(Direction.forward, workflow);\r\n    AdjustFetch.runByDirection(Direction.backward, workflow);\r\n    return workflow;\r\n  }\r\n\r\n  static runByDirection(direction: Direction, workflow: Workflow) {\r\n    const items = workflow.fetch[direction].items;\r\n    if (!items) {\r\n      return;\r\n    }\r\n    AdjustFetch.processFetchedItems(items);\r\n    const height = Math.abs(items[0].getEdge(Direction.backward) -\r\n      items[items.length - 1].getEdge(Direction.forward));\r\n    if (direction === Direction.forward) {\r\n      return this.adjustForward(workflow, height);\r\n    } else {\r\n      return this.adjustBackward(workflow, height);\r\n    }\r\n  }\r\n\r\n  static processFetchedItems(items) {\r\n    for (let i = items.length - 1; i >= 0; i--) {\r\n      const element = items[i].element.children[0];\r\n      element.style.left = '';\r\n      element.style.position = '';\r\n      items[i].invisible = false;\r\n    }\r\n  }\r\n\r\n  static adjustForward(workflow: Workflow, size: number) {\r\n    const paddingForward = workflow.viewport.padding[Direction.forward];\r\n    const _paddingSize = paddingForward.size || 0;\r\n    paddingForward.size = Math.max(_paddingSize - size, 0);\r\n  }\r\n\r\n  static adjustBackward(workflow: Workflow, size: number) {\r\n    const viewport = workflow.viewport;\r\n    const _scrollPosition = viewport.scrollPosition;\r\n    const paddingBackward = viewport.padding[Direction.backward];\r\n    const paddingForward = viewport.padding[Direction.forward];\r\n\r\n    // need to make \"size\" pixels in backward direction\r\n    // 1) via paddingTop\r\n    const _paddingSize = paddingBackward.size || 0;\r\n    let paddingSize = Math.max(_paddingSize - size, 0);\r\n    paddingBackward.size = paddingSize;\r\n    const paddingDiff = size - (_paddingSize - paddingSize);\r\n    // 2) via scrollTop\r\n    if (paddingDiff > 0) {\r\n      size = paddingDiff;\r\n      viewport.scrollPosition += size;\r\n      const diff = size - viewport.scrollPosition - _scrollPosition;\r\n      if (diff > 0) {\r\n        paddingSize = paddingForward.size || 0;\r\n        paddingForward.size = paddingSize + diff;\r\n        viewport.scrollPosition += diff;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/workflow/adjustFetch.ts","import { Workflow } from '../workflow';\r\nimport { Direction } from '../interfaces/direction';\r\n\r\nexport default class Clip {\r\n\r\n  static run(workflow: Workflow) {\r\n    if (!workflow.clip.shouldClip) {\r\n      return workflow;\r\n    }\r\n    Clip.runByDirection(Direction.forward, workflow);\r\n    Clip.runByDirection(Direction.backward, workflow);\r\n\r\n    workflow.buffer.items = workflow.buffer.items.filter(item => {\r\n      if (item.toRemove) {\r\n        workflow.buffer.cache.add(item);\r\n        item.hide();\r\n        return false;\r\n      }\r\n      return true;\r\n    });\r\n    workflow.bindData();\r\n    return new Promise((resolve, reject) =>\r\n      setTimeout(() => {\r\n        Clip.processClip(workflow);\r\n        resolve(workflow);\r\n      })\r\n    );\r\n  }\r\n\r\n  static runByDirection(direction: Direction, workflow: Workflow) {\r\n    if (!workflow.clip[direction].shouldClip) {\r\n      return;\r\n    }\r\n    const opposite = direction === Direction.forward ? Direction.backward : Direction.forward;\r\n    workflow.viewport.padding[opposite].size += workflow.clip[direction].size;\r\n  }\r\n\r\n  static processClip(workflow: Workflow) {\r\n    if (!workflow.clip[Direction.backward].shouldClip) {\r\n      workflow.buffer.bof = false;\r\n    }\r\n    if (!workflow.clip[Direction.forward].shouldClip) {\r\n      workflow.buffer.eof = false;\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/workflow/clip.ts","import { Workflow } from '../workflow';\nimport { Direction } from '../interfaces/index';\n\nexport default class Fetch {\n\n  static run(workflow: Workflow): Promise<any> {\n    const result = [];\n    if (workflow.fetch[Direction.backward].shouldFetch) {\n      result.push(Fetch.fetchByDirection(Direction.backward, workflow));\n    }\n    if (workflow.fetch[Direction.forward].shouldFetch) {\n      result.push(Fetch.fetchByDirection(Direction.forward, workflow));\n    }\n    return Promise.all(result).then(() => workflow);\n  }\n\n  static success(data: any, direction: Direction, workflow: Workflow) {\n    workflow.log(`resolved ${data.length} ${direction} items ` +\n      `(index = ${workflow.fetch[direction].startIndex}, count = ${workflow.settings.bufferSize})`);\n    workflow.fetch[direction].newItemsData = data;\n  }\n\n  static fetchByDirection(direction: Direction, workflow: Workflow): Promise<any> {\n    const result = new Promise((resolve, reject) => {\n      const success = (data) => {\n        Fetch.success(data, direction, workflow);\n        resolve(true);\n      };\n      const _get = <Function>workflow.datasource.get;\n      const _getResult = _get(workflow.fetch[direction].startIndex, workflow.settings.bufferSize, success, reject);\n      if (_getResult && typeof _getResult.then === 'function') { // DatasourceGetPromise\n        _getResult.then(success, reject);\n      } else if (_getResult && typeof _getResult.subscribe === 'function') { // DatasourceGetObservable\n        _getResult.subscribe(success, reject);\n      }\n    });\n    return result;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/workflow/fetch.ts","import { Workflow } from '../workflow';\nimport { Direction } from '../interfaces/index';\nimport { Item } from '../classes/item';\n\nexport default class ProcessFetch {\n\n  static run(workflow: Workflow) {\n    ProcessFetch.runByDirection(workflow, Direction.backward);\n    ProcessFetch.runByDirection(workflow, Direction.forward);\n    return workflow;\n  }\n\n  static runByDirection(workflow: Workflow, direction: Direction) {\n    const fetch = workflow.fetch[direction];\n    if (!fetch.newItemsData) { // no fetch\n      return;\n    }\n\n    const eof = direction === Direction.forward ? 'eof' : 'bof';\n    workflow.buffer[eof] = fetch.newItemsData.length !== workflow.settings.bufferSize;\n    if (direction === Direction.backward && workflow.buffer.bof) {\n      fetch.startIndex += workflow.settings.bufferSize - fetch.newItemsData.length;\n    }\n\n    if (!fetch.newItemsData.length) { // empty result\n      return;\n    }\n    fetch.items = fetch.newItemsData.map((item, index) => {\n      const $index = fetch.startIndex + index;\n      const nodeId = workflow.settings.itemIdPrefix + String($index);\n      return new Item($index, item, nodeId, workflow.routines);\n    });\n\n    if (direction === Direction.forward) {\n      workflow.buffer.items = [...workflow.buffer.items, ...fetch.items];\n    } else {\n      workflow.buffer.items = [...fetch.items, ...workflow.buffer.items];\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/workflow/processFetch.ts","import { Workflow } from '../workflow';\n\nexport default class Render {\n\n  static run(workflow: Workflow): Workflow | Promise<any> {\n    if (!workflow.fetch.hasNewItems) {\n      return workflow;\n    }\n    workflow.bindData();\n    return new Promise((resolve, reject) =>\n      setTimeout(() => {\n        const error = Render.setElements(workflow);\n        if (!error) {\n          resolve(workflow);\n        } else {\n          reject(error);\n        }\n      })\n    );\n  }\n\n  static setElements(workflow: Workflow) {\n    const items = workflow.fetch.items;\n    for (let j = items.length - 1; j >= 0; j--) {\n      const nodes = workflow.viewport.children;\n      for (let i = nodes.length - 1; i >= 0; i--) {\n        if (nodes[i].getAttribute('data-sid') === items[j].nodeId) {\n          items[j].element = nodes[i];\n        }\n      }\n      if (!items[j].element) { // todo: do we really need this check?\n        return new Error('Can not associate item with element');\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/workflow/render.ts","import { Workflow } from '../workflow';\r\nimport { Direction } from '../interfaces/index';\r\n\r\nexport default class ShouldClip {\r\n\r\n  static run(workflow: Workflow) {\r\n    const fetchOnly = workflow.settings.clipAfterFetchOnly;\r\n    const scrollOnly = workflow.settings.clipAfterScrollOnly;\r\n    if (!workflow.buffer.items.length) {\r\n      return workflow;\r\n    }\r\n    if (scrollOnly && !workflow.scroll) {\r\n      return workflow;\r\n    }\r\n    if (!fetchOnly || workflow.fetch[Direction.backward].shouldFetch) {\r\n      ShouldClip.shouldClipByDirection(Direction.backward, workflow);\r\n    }\r\n    if (!fetchOnly || workflow.fetch[Direction.forward].shouldFetch) {\r\n      ShouldClip.shouldClipByDirection(Direction.forward, workflow);\r\n    }\r\n    return workflow;\r\n  }\r\n\r\n  static shouldClipByDirection(direction: Direction, workflow: Workflow) {\r\n    const items = workflow.buffer.items;\r\n    const forward = direction === Direction.forward;\r\n    const viewport = workflow.viewport;\r\n    const viewportLimit = viewport.getLimit(direction, true);\r\n    const firstIndex = workflow.buffer.getFirstVisibleItemIndex();\r\n    const lastIndex = workflow.buffer.getLastVisibleItemIndex();\r\n    const firstItemEdge = items[firstIndex].getEdge(direction);\r\n    const lastItemEdge = items[lastIndex].getEdge(direction);\r\n\r\n    let i, itemEdge, start = -1, end = -1;\r\n    const getItemEdge = (index) =>\r\n      index === firstIndex ? firstItemEdge : (\r\n        index === lastIndex ? lastItemEdge :\r\n          items[index].getEdge(direction));\r\n\r\n    if ((forward && lastItemEdge <= viewportLimit) || (!forward && firstItemEdge >= viewportLimit)) {\r\n      // all items should be clipped\r\n      start = firstIndex;\r\n      end = lastIndex;\r\n    } else {\r\n      if (forward) {\r\n        start = firstIndex;\r\n      } else {\r\n        end = lastIndex;\r\n      }\r\n      for (\r\n        forward ? (i = 0) : (i = lastIndex);\r\n        forward ? (i <= lastIndex) : (i >= 0);\r\n        forward ? i++ : i--\r\n      ) {\r\n        itemEdge = getItemEdge(i);\r\n        if (forward && itemEdge <= viewportLimit) {\r\n          end = i;\r\n        } else if (!forward && itemEdge >= viewportLimit) {\r\n          start = i;\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    if (start >= 0 && end >= 0) {\r\n      for (i = start; i <= end; i++) {\r\n        items[i].toRemove = true;\r\n      }\r\n      workflow.clip[direction].shouldClip = true;\r\n      workflow.clip[direction].size =\r\n        items[end].getEdge(Direction.forward) - items[start].getEdge(Direction.backward);\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/workflow/shouldClip.ts","import { Workflow } from '../workflow';\nimport { Direction } from '../interfaces/index';\n\nexport default class ShouldFetch {\n\n  static run(workflow: Workflow) {\n    if (workflow.direction !== Direction.backward) {\n      ShouldFetch.shouldFetchByDirection(Direction.forward, workflow);\n    }\n    if (workflow.direction !== Direction.forward) {\n      ShouldFetch.shouldFetchByDirection(Direction.backward, workflow);\n    }\n    return Promise.resolve(workflow);\n  }\n\n  static shouldFetchByDirection(direction: Direction, workflow: Workflow) {\n    const paddingEdge = workflow.viewport.padding[direction].getEdge();\n    const limit = workflow.viewport.getLimit(direction);\n    if ((direction === Direction.forward && workflow.buffer.eof) ||\n      (direction === Direction.backward && workflow.buffer.bof)) {\n      workflow.fetch[direction].shouldFetch = false;\n    } else {\n      workflow.fetch[direction].shouldFetch =\n        (direction === Direction.forward) ? paddingEdge < limit : paddingEdge > limit;\n    }\n    if (workflow.fetch[direction].shouldFetch) {\n      ShouldFetch.setStartIndex(direction, workflow);\n    }\n  }\n\n  static setStartIndex(direction: Direction, workflow: Workflow) {\n    const forward = direction === Direction.forward;\n    const back = -workflow.settings.bufferSize;\n    let start;\n    if (workflow.buffer.lastIndex[direction] === null) {\n      start = workflow.settings.startIndex + (forward ? 0 : back);\n    } else {\n      start = workflow.buffer.lastIndex[direction] + (forward ? 1 : back);\n    }\n    workflow.fetch[direction].startIndex = start;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/workflow/shouldFetch.ts","<div data-padding-backward></div><div\n  *ngFor=\"let item of items\" [attr.data-sid]=\"item.nodeId\"\n><div\n  [style.position]=\"item.invisible ? 'fixed' : null\"\n  [style.left]=\"item.invisible ? '-99999px' : null\"\n><ng-template\n  [ngTemplateOutlet]=\"template\"\n  [ngTemplateOutletContext]=\"{\n    $implicit: item.data,\n    index: item.$index\n }\"\n></ng-template></div></div><div data-padding-forward></div>\n\n\n// WEBPACK FOOTER //\n// ./src/ui-scroll.component.ts.UiScrollComponent.html","import {\n  Component, OnInit, OnDestroy,\n  TemplateRef, ElementRef, Renderer2,\n  ChangeDetectionStrategy, ChangeDetectorRef\n} from '@angular/core';\n\nimport { WorkflowRunner } from './component/runner';\nimport { Datasource } from './component/interfaces/index';\nimport { Item } from './component/classes/item';\n\n@Component({\n  selector: 'ui-scroll',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template:\n`<div data-padding-backward></div><div\n  *ngFor=\"let item of items\" [attr.data-sid]=\"item.nodeId\"\n><div\n  [style.position]=\"item.invisible ? 'fixed' : null\"\n  [style.left]=\"item.invisible ? '-99999px' : null\"\n><ng-template\n  [ngTemplateOutlet]=\"template\"\n  [ngTemplateOutletContext]=\"{\n    $implicit: item.data,\n    index: item.$index\n }\"\n></ng-template></div></div><div data-padding-forward></div>`\n})\nexport class UiScrollComponent implements OnInit, OnDestroy {\n\n  // come from the directive\n  public template: TemplateRef<any>;\n  public datasource: Datasource;\n\n  // use in the template\n  public items: Array<Item>;\n\n  // Component-Workflow integration\n  public workflowRunner: WorkflowRunner;\n\n  constructor(\n    private changeDetector: ChangeDetectorRef,\n    private elementRef: ElementRef,\n    private renderer: Renderer2\n  ) {\n  }\n\n  ngOnInit() {\n    this.workflowRunner = new WorkflowRunner(this);\n  }\n\n  ngOnDestroy() {\n    this.workflowRunner.dispose();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui-scroll.component.ts","import { Directive, Input, TemplateRef, ViewContainerRef, ComponentFactoryResolver, OnInit } from '@angular/core';\n\nimport { UiScrollComponent } from './ui-scroll.component';\nimport { Datasource } from './component/interfaces/datasource';\n\n@Directive({ selector: '[uiScroll][uiScrollOf]' })\nexport class UiScrollDirective implements OnInit {\n  private datasource: Datasource;\n\n  constructor(\n    private templateRef: TemplateRef<any>,\n    private viewContainer: ViewContainerRef,\n    private resolver: ComponentFactoryResolver\n  ) {}\n\n  @Input() set uiScrollOf(datasource: Datasource) {\n    this.datasource = datasource;\n  }\n\n  ngOnInit() {\n    const templateView = this.templateRef.createEmbeddedView({});\n    const compFactory = this.resolver.resolveComponentFactory(UiScrollComponent);\n    const componentRef = this.viewContainer.createComponent(compFactory, null, this.viewContainer.injector, [templateView.rootNodes]);\n    componentRef.instance.datasource = this.datasource;\n    componentRef.instance.template = this.templateRef;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui-scroll.directive.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { UiScrollComponent } from './ui-scroll.component';\nimport { UiScrollDirective } from './ui-scroll.directive';\n\n@NgModule({\n  declarations: [\n    UiScrollComponent,\n    UiScrollDirective\n  ],\n  imports: [CommonModule],\n  entryComponents: [UiScrollComponent],\n  exports: [UiScrollDirective],\n  providers: []\n})\nexport class UiScrollModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui-scroll.module.ts"],"sourceRoot":"webpack:///"}